<head>
	<meta charset="UTF-8"> 
</head>
<script type="module">
   import './index.js'
</script>
<body>
	<x-pagination totalitems="150" current="1" pagesize="10" onroll="onroll" />
</body>
<script type="module">
	class DataSet {
   	  constructor(){
   	  	this._pagesize = 10
   	  	this.d = []
   	  	for (var i = 1; i <= 150; i++) {
   	  		this.d.push(i)
   	  	}
   	  }
   	  get pagesize(){
   	  	return this._pagesize 
   	  }
   	  set pagesize(value){
   	  	this._pagesize = value
   	  }
   	  getPage(index){
   	  	var result = []
   	  	var initial = (index-1)*this.pagesize
   	  	for (var i = initial; i < initial + this.pagesize; i++) {
   	  		if (this.d[i])
   	  			result.push(this.d[i])
   	  	}
   	  	return result 
   	  }
   }
	var d = new DataSet()
	// function onroll(e){
	// 	var c = e.detail.currentPage()
	// 	console.log('currentPage1:',c)
	// 	console.log(d.getPage(c))
	// }
	var p = document.querySelector("x-pagination")
	p.addEventListener('onroll',(e)=>{
		var c = e.detail.currentPage()
		console.log('currentPage2:',e.detail.currentPage())
		console.log(d.getPage(c))
	})
	console.log(d.getPage(1))
</script>
